<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Inscrição - Meu App, Meu Negócio</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

    <!-- AOS (Animate On Scroll) -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fef6f1, #dcecf9);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

<div class="w-full max-w-2xl bg-white rounded-3xl shadow-2xl p-6 sm:p-8" data-aos="zoom-in">
    <div class="text-center mb-6">
        <h1 class="text-3xl sm:text-4xl font-extrabold text-[#002b7f] mb-1">Meu App, Meu Negócio</h1>
        <p class="text-[#f27f1b] font-medium text-lg">Projeto de Extensão - UEPA Castanhal</p>
    </div>

    <!-- Form com todos os campos já visíveis -->
    <form action="/inscricao" method="post" class="space-y-4 sm:space-y-5">
        <input type="text" name="nome" placeholder="Nome completo" required
               class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#002b7f] focus:outline-none text-base"/>

        <input
                type="text"
                name="cpf"
                id="cpf"
                placeholder="CPF"
                required
                maxlength="14"
                class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#002b7f] focus:outline-none text-base"
        />
        <input type="email" name="email" placeholder="Email" required
               class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#002b7f] focus:outline-none text-base"/>

        <input
                type="text"
                name="fone"
                id="telefone"
                placeholder="Celular(WhatsApp)"
                required
                maxlength="15"
                class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#002b7f] focus:outline-none text-base"
        />
        <input type="text" name="setor" placeholder="Setor de atuação (opcional)"
               class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#002b7f] focus:outline-none text-base"/>

        <input type="text" name="nomedaEmpresa" placeholder="Nome da empresa (opcional)"
               class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:ring-2 focus:ring-[#002b7f] focus:outline-none text-base"/>

        <button type="submit"
                class="w-full bg-gradient-to-r from-[#002b7f] to-[#0044cc] text-white text-lg font-semibold py-4 rounded-xl shadow-md hover:-translate-y-1 transition-all duration-300">
            Inscrever-se
        </button>
    </form>
</div>

<script>
    AOS.init({
        duration: 600,
        once: true
    });
    const cpfInput = document.getElementById('cpf');
    const telefoneInput = document.getElementById('telefone');
    const form = document.getElementById('form-inscricao');

    // Máscara de CPF: 000.000.000-00
    cpfInput.addEventListener('input', function () {
        let cpf = this.value.replace(/\D/g, '');
        if (cpf.length > 3) cpf = cpf.replace(/^(\d{3})(\d)/, '$1.$2');
        if (cpf.length > 6) cpf = cpf.replace(/^(\d{3})\.(\d{3})(\d)/, '$1.$2.$3');
        if (cpf.length > 9) cpf = cpf.replace(/^(\d{3})\.(\d{3})\.(\d{3})(\d)/, '$1.$2.$3-$4');
        this.value = cpf;
    });

    // Máscara de celular: (00) 00000-0000
    telefoneInput.addEventListener('input', function () {
        let tel = this.value.replace(/\D/g, '');
        if (tel.length > 2) tel = tel.replace(/^(\d{2})(\d)/, '($1) $2');
        if (tel.length > 7) tel = tel.replace(/(\d{5})(\d)/, '$1-$2');
        this.value = tel;
    });

    // Função para validar CPF (algoritmo oficial)
    function validarCPF(cpf) {
        cpf = cpf.replace(/\D/g, '');
        if (cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) return false;

        let soma = 0;
        for (let i = 0; i < 9; i++) soma += parseInt(cpf.charAt(i)) * (10 - i);
        let dig1 = (soma * 10) % 11;
        if (dig1 === 10 || dig1 === 11) dig1 = 0;
        if (dig1 !== parseInt(cpf.charAt(9))) return false;

        soma = 0;
        for (let i = 0; i < 10; i++) soma += parseInt(cpf.charAt(i)) * (11 - i);
        let dig2 = (soma * 10) % 11;
        if (dig2 === 10 || dig2 === 11) dig2 = 0;
        return dig2 === parseInt(cpf.charAt(10));
    }

    // Função para validar celular com DDD (mínimo 10 dígitos)
    function validarCelular(telefone) {
        telefone = telefone.replace(/\D/g, '');
        return telefone.length >= 10 && telefone.length <= 11;
    }

    // Antes de enviar: validar e limpar
    form.addEventListener('submit', function (e) {
        const cpf = cpfInput.value.replace(/\D/g, '');
        const telefone = telefoneInput.value.replace(/\D/g, '');

        if (!validarCPF(cpf)) {
            alert('CPF inválido');
            e.preventDefault();
            return;
        }

        if (!validarCelular(telefone)) {
            alert('Número de celular inválido');
            e.preventDefault();
            return;
        }

        // Atualiza valores dos inputs com versão limpa
        cpfInput.value = cpf;
        telefoneInput.value = telefone;
    });
</script>
</body>
</html>
